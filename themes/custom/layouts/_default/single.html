{{ define "main" }}

<main class="article">
  <header>
    <h1>{{ .Title }}</h1>
    <ul class="article-parameters">
      {{ if .Date }}
      <li>
        <time>{{ .Date | time.Format ":date_medium" }}</time>
      </li>
      {{ end }}

      {{ if or .Params.Author site.Author.name }}
      <li>
        <span>{{ .Params.Author | default site.Author.name }}</span>
      </li>
      {{ end }}
    </ul>
  </header>

  <article>
    {{ .Content }}
  </article>

  <!-- Post Tags -->
  {{ if .Params.tags }}
  <div class="post-tags">
    {{ range .Params.tags }} {{ $href := print (absURL "tags/") (urlize .) }}
    <a href="{{ $href }}">#{{ . }}</a>
    {{ end }}
  </div>
  {{ end }}

  <!-- Pagination -->
  {{ $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}<!---->
  {{ if and (gt (len $pages) 1) (in $pages . ) }}
  <nav class="pagination">
    {{ with $pages.Next . }}
    <a class="prev" href="{{ .Permalink }}">
      <span>←</span>
      <span>{{ .Name }}</span>
    </a>
    {{ end }}

    {{ with $pages.Prev . }}
    <a class="next" href="{{ .Permalink }}">
      <span>{{ .Name }}</span>
      <span>→</span>
    </a>
    {{ end }}
  </nav>
  {{ end }}

</main>

{{ end }}
