<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>js-dos 8.xx</title>
  <style>
    html,
    body {
      width: 100%;
      height: 100%;
    }
  </style>
  <script type="module" crossorigin src="/latest/js-dos.js"></script>
  <link rel="stylesheet" crossorigin href="/latest/js-dos.css">
</head>

<body>
  <div id="app"></div>
  <script>
    if (window.android !== undefined && window.android.startHardwareService !== undefined) {
        window.backendHardware = (emulator) => {
            return new Promise((resolve) => {
                window.backendResolve = resolve;
                window.android.startHardwareService(emulator);
            });
        };
    }
    const params = new URLSearchParams(location.search);
    document.addEventListener("DOMContentLoaded", () => {
      /* eslint-disable max-len */
      /* eslint-enable max-len */
      const props = Dos(document.getElementById("app"),
        {
          // url: "https://br.cdn.dos.zone/published/br.rumawg.U95boat.jsdos",
          // url: "https://cdn.dos.zone/custom/dos/QB45.jsdos", // qbasic
          // url: decodeURIComponent("https%3A%2F%2Fcdn.dos.zone%2Fcustom%2Fdos%2Fdoom_dm.jsdos"),
          // url: decodeURIComponent("https%3A%2F%2Fcdn.dos.zone%2Fcustom%2Fdos%2Fhomm2_netbios.jsdos"),
          // url: "https://cdn.dos.zone/original/2X/2/24b00b14f118580763440ecaddcc948f8cb94f14.jsdos", // digger
          // url: "https://v8.js-dos.com/bundles/doom.jsdos",
          // url: "https://cdn.dos.zone/custom/dos/duke3d_ipx.jsdos",
          // url: "https://br.cdn.dos.zone/ipx/duke3d/duke3d_ipx.jsdos",
          // url: "https://br.cdn.dos.zone/ipx/doom_dm/doom_dm.jsdos",
          // url: "https://cdn.dos.zone/original/2X/b/b4b5275904d86a4ab8a20917b2b7e34f0df47bf7.jsdos", // dhry2
          // url: "https://cdn.dos.zone/original/2X/7/744842062905f72648a4d492ccc2526d039b3702.jsdos", // sim-city
          // url: "https://cdn.dos.zone/custom/dos/war2.jsdos", // warcraft-2
          // url: "https://cdn.dos.zone/original/2X/5/5f21f221e023bbca253396824c5f652438eeef8c.jsdos", // поле чудес
          // url: "https://cdn.dos.zone/custom/dos/homm_2.jsdos",
          // url: "https://br.cdn.dos.zone/js-dos/system/win95-v1.jsdos", // win95-v1
          // url: "https://br.cdn.dos.zone/published/br.kxuntr.MDKperfWIN.jsdos", // MDK Performance Test For Windows
          // url: "https://br.cdn.dos.zone/published/br.anhfhb.Bench95.jsdos", // Bench95
          // url: "https://cdn.dos.zone/custom/dos/blood-lowres.jsdos", // blood
          // url: "https://br.cdn.dos.zone/published/br.fuggxt.DisNormal.jsdos",
          // url: "https://br.cdn.dos.zone/published/br.pojmnc.SimTowerupd.jsdos",
          // url: "https://cdn.dos.zone/custom/dos/gta-mobile.jsdos",
          // url: "https://br.cdn.dos.zone/niccarter54/shtirlitz.jsdos",
          // url: "https://br.cdn.dos.zone/published/br.hmjhoz.DonKapone.jsdos",
          // url: "https://cdn.dos.zone/custom/dos/diablo-109.jsdos",
          // dosboxConf: `
          //   [autoexec]
          //   mount c .
          //   c:
          // `,
          // jsdosConf: {
          //   "layersConfig": {
          //     "version": 2,
          //     "layers": [
          //       {
          //         "grid": "honeycomb",
          //         "title": "Layer#0",
          //         "controls": [
          //           {
          //             "row": 0,
          //             "column": 0,
          //             "symbol": "↑",
          //             "type": "Key",
          //             "mapTo": [
          //               265
          //             ]
          //           }
          //         ]
          //       }
          //     ]
          //   }
          // },
          // dosboxConf: diabloConf,
          // loginUrl: "http://localhost:8080/subscription.html",
          // autoStart: true,
          // countDownStart: 5,
          // kiosk: true,
          // background: "https://dos.zone/images/http/original/2X/f/f833b147609640191342f555d70eb07261f53c03.png/0a94af564ab81a14a27d6a67671e5416.webp",
          pathPrefix: "/emulators/",
          // pathPrefix: "https://v8.js-dos.com/latest/emulators/",
          // pathPrefix: "https://br.cdn.dos.zone/js-dos/latest/emulators/",
          // pathSuffix: ".ea",
          ipxBackend: params.get("ipxBackend"),
          room: params.get("room"),
          // ipx: [{
          //     name: "my-ipx-server",
          //     host: "wss://some.url",
          //   }, {
          //     name: "dos.zone",
          //     host: "wss://netherlands.dos.zone",
          //   }
          // ],
          // backendHardware: (backend) => {
          //  console.log("Hardware backend for", backend);
          //  return Promise.resolve("ws://127.0.0.1:8888");
          // },
          // backendHardware: window.backendHardware,
          noNetworking: false,
          // noCloud: true,
          // noCursor: true,
          // softKeyboardLayout: [
          //   "q w e r t",
          //   "{up} {down}",
          //   "{left} {right}",
          //   "{symbols}"
          // ],
          // softKeyboardSymbols: [
          //   {
          //       "{up}": "↑",
          //       "{down}": "↓",
          //       "{left}": "←",
          //       "{right}": "→",
          //   },
          //   {
          //       "{up}": "↑",
          //       "{down}": "↓",
          //       "{left}": "←",
          //       "{right}": "→",
          //       "q": "й", "w": "ц", "e": "у", "r": "к", "t": "е",
          //   },
          // ], 
          // softKeyboardLayout: [
          //   [
          //     [
          //       "{up}",
          //     ],
          //     [
          //       "{left} {right}",
          //     ],
          //     [
          //       "{down}",
          //     ]
          //   ],
          // ],
          // softFullscreen: true,
          softkeyboardlayout: [
            [
              [
                "{layout} {up}",
              ],
            ],
            [
              [
                "{layout} {down}",
              ],
            ],
          ],
          // key: "-----",
          onEvent: (event, arg) => {
            console.log("Event", event, arg);
            if (event === "ci-ready") {
              console.log("js-dos version:", props.getVersion());
              window.ci = arg;
              // props.setFrame("network");
              // props.setFullScreen(true);
            }
          },
          // renderAspect: "1/1",
          // renderBackend: "webgl",
          // imageRendering: "smooth",
          // thinSidebar: true,
        });

      window.props = props;
    });

    const diabloConf = `
[sdl]
autolock=false
mouse_emulation=integration

[dosbox]
title=Windows 95
memsize=128

[video]
vmemsize=8
vesa modelist width limit=0
vesa modelist height limit=0

[dos]
ver=7.1
hard drive data rate limit=0
floppy drive data rate limit=0

[cpu]
cputype=pentium_mmx
core=auto 
integration device=true

[sblaster]
sbtype=sb16vibra

[fdc, primary]
int13fakev86io=true

[ide, primary]
int13fakeio=true
int13fakev86io=true

[ide, secondary]
int13fakeio=true
int13fakev86io=true
cd-rom insertion delay=4000

[render]
scaler=none

[autoexec]
echo off
imgmount 2 sockdrive wss://sockdrive.js-dos.com:8001 dos.zone diablo_109_c
imgmount 3 sockdrive wss://sockdrive.js-dos.com:8001 dos.zone diablo_109_d
boot c:
`;
  </script>
</body>

</html>